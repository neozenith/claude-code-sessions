---
title: Data Flow - JSONL to Visualizations
---
graph LR
    S1["~/.claude/projects/<br/>Session JSONL Files"]
    S2["rsync to ./projects/"]

    D1["DuckDB read_json_auto()<br/>Parse JSONL + Extract Fields"]
    D2["Load pricing.csv<br/>Model â†’ Prices"]
    D3["SQL Queries<br/>JOIN + Aggregate + Calculate"]

    A1["FastAPI Endpoints<br/>/api/summary, /api/usage/*<br/>/api/projects, /api/drilldown/*"]

    F1["React Frontend<br/>Fetch JSON Data"]
    F2["Plotly.js<br/>Render Charts"]

    S1 --> S2
    S2 --> D1
    D2 --> D3
    D1 --> D3
    D3 --> A1
    A1 --> F1
    F1 --> F2

    style S1 fill:#e1f5ff
    style D1 fill:#fff3e0
    style D3 fill:#f3e5f5
    style A1 fill:#e8f5e9
    style F2 fill:#ffebee
